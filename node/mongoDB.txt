{ Mongo: DB }

MongoDB was created by Dwight Merriman and Eliot Horowitz, who had encountered development and scalability issues with traditional relational database approaches while building Web applications at DoubleClick, an Internet advertising company that is now owned by Google Inc. 

According to Merriman, the name of the database was derived from the word humongous to represent the idea of supporting large amounts of data. Merriman and Horowitz helped form 10Gen Inc. in 2007 to commercialize MongoDB and related software. The company was renamed MongoDB Inc. in 2013. 

The database was released to open source in 2009 and is available under the terms of the Free Software Foundation's GNU AGPL Version 3.0 commercial license. 


What is Data?  :                         ‘Alex’
In simple words, data can be facts related to any object in consideration.
For example, your name, age, height, weight, etc are some data related to you.
A picture , image , file , pdf etc can also be considered data.


What is a Database?                 | Alex | Mumbai | 828988898 | 

The database is a systematic collection of data. 
Databases support storage and manipulation of data. 
Databases make data management easy. Let's discuss a few examples.

An online telephone directory would definitely use a database to store data pertaining to people, phone numbers and other contact details, etc.

Your electricity service provider is obviously using a database to manage billing, client related issues, to handle fault data, etc.
Let's also consider Facebook. It needs to store, manipulate and present data related to members, their friends, member activities, messages, advertisements and a lot more.


What is a Database Management System (DBMS)?          |Ali |Khan | 
Database Management System (DBMS) is a collection of programs which enables its users to access the database, manipulate data, reporting/representation of data.

It also helps to control access to the database.

Database Management Systems are not a new concept and as such had been first implemented in the 1960s.





Relational DBMS 
This type of DBMS defines database relationships in the form of tables, also known as relations. 
Unlike network DBMS, RDBMS does not support many to many relationships.
Relational DBMS usually have pre-defined data types that they can support. 
This is the most popular DBMS type in the market. 
Examples of relational database management systems include MySQL, Oracle, and Microsoft SQL Server database.








pData - eduData - jobData - handData - j&kData - sportData

What is SQL?
Structured Query Language (SQL) pronounced as "S-Q-L" or sometimes as "Se-Quel" is actually the standard language for dealing with Relational Databases.

SQL programming can be effectively used to insert, search, update, delete ( Create, Read, Update, Delete ) database records.

That doesn't mean SQL cannot do things beyond that.

In fact, it can do a lot of things including, but not limited to, optimizing and maintenance of databases. 

Relational databases like MySQL Database, Oracle, MSSQL Server, Sybase, etc use SQL! How to use SQL syntaxes?

 SQL syntaxes used in these databases are almost similar, except the fact that some are using a few different syntaxes and even proprietary SQL syntaxes.

SQL Example

 SELECT * FROM Members WHERE Age > 30 




What is NoSQL?
NoSQL is an upcoming category of Database Management Systems. 
Its main characteristic is its non-adherence to Relational Database Concepts. NoSQL means "Not Only SQL". 

The concept of NoSQL databases grew with internet giants such as Google, Facebook, Amazon etc who deal with gigantic volumes of data.

When you use a relational database for massive volumes of data, the system starts getting slow in terms of response time.

To overcome this, we could of course "scale up" our systems by upgrading our existing hardware.

The alternative to the above problem would be to distribute our database load on multiple hosts as the load increases.

This is known as "scaling out".

 NoSQL database is non-relational databases that scale out better than relational databases and are designed with web applications in mind.

They do not use SQL to query the data and do not follow strict schemas like relational models. With NoSQL, ACID (Atomicity, Consistency, Isolation, Durability) features are not guaranteed.

NoSQL database
NoSQL databases are useful for large sets of distributed data.

NoSQL databases are effective for big data performance issues that relational databases aren't built to solve. 
They are most effective when an organization must analyze large chunks of unstructured data or data that are stored across multiple virtual servers in the cloud.


Purpose to build MongoDB
     "what was the need for MongoDB although there were many databases in action?"

This is a very simple answer:

“All modern applications require big data, fast features development, flexible deployment and the older database systems are not competent enough, so the MongoDB was obviously needed.”

The main purpose to build MongoDB:

Scalability
Performance
High Availability
Scaling from single server deployments to large, complex multi-site architectures.

Key points of MongoDB: 

Develop Faster
Deploy Easier
Scale Bigger



Database: in Mongo
The database is a physical container for collections. Each DB gets its own set of files on the file system.
A single MongoDB server typically has multiple databases.

Collection :

A collection is a group of an RDBMS table. A collection exists within a single database. Documents within a collection can have different fields. Typically, all documents in a collection are of similar or related purpose.




Document :

A document is a set of key-value pairs. Documents have a dynamic schema. Dynamic schema means that documents in the same set of fields or structure and common fields in a collection's documents may hold different types of data.



Features of MongoDB
These are some important features of MongoDB:

1.  Support ad hoc queries

In MongoDB, you can search by field, range query and it also supports regular expression searches.

2. Indexing

You can index any field in a document.

3. Replication

MongoDB supports Master-Slave replication.

A master can perform Reads and Writes and a Slave copies data from the master and can only be used for reads or back up (not writes)

4. Duplication of data

MongoDB can run over multiple servers. The data is duplicated to keep the system up and also keep its running condition in case of hardware failure.

5. Load balancing

It has an automatic load balancing configuration because of data placed in shards.

6. Supports map reduce and aggregation tools.

7. Uses JavaScript instead of Procedures.

8. It is a schema-less database written in C++.

9. Provides high performance.

10. Stores files of any size easily without complicating your stack.

11. Easy to administer in the case of failures.

12. It also supports:

JSON data model with dynamic schemas
Auto-sharding for horizontal scalability
Built-in replication for high availability


Example of a database:

MongoDB stores data as documents, so it is known as the document-oriented database. It is a key feature of MongoDB. It offers document-oriented storage. It is very simple and you can program it easily.


FirstName = "Ajeet",                                                                                                           
Address = "Laxmi Nagar",                                                                                                   
Spouse = [{Name: "Charu"}].                                                                                           
FirstName ="Ravi",  
Address = "Loni"  


There are two different documents (separated by ".").

Storing data in this manner is called the document-oriented database.


The following table shows the relationship of RDBMS terminology with MongoDB.
RDBMS
MongoDB
Database
Database
Table
Collection
Tuple/Row
Document
column
Field
Table Join
Embedded Documents
Primary Key
Primary Key (Default key _id provided by MongoDB itself)


Installation:

Date: 4 Apr 2021

Working with the mongo Shell
To display the database you are using, type db:
> db 
test 
The operation should return   > test , which is the default database.

To switch databases, issue the use <db> helper, as in the following example:
> use <database>

You can switch to non-existing databases. When you first store data in the database, such as by creating a collection, MongoDB creates the database. For example, the following creates both the database myNewDatabase and the collection myCollection during the insertOne() operation:

> use myNewDatabase
> db.myCollection.insertOne( { x: 1 } );
{
        "acknowledged" : true,
        "insertedId" : ObjectId("5f3e214c1fbd2a6371f2f990")
}
> db.myCollection.insert( { x: 1 } );
WriteResult({ "nInserted" : 1 })
>
The db.myCollection.insertOne() is one of the methods available in the mongo shell.
db refers to the current database.
myCollection is the name of the collection.
If the mongo shell does not accept the name of a collection, you can use the alternative db.getCollection() syntax. For instance, if a collection name contains a space or hyphen, starts with a number, or conflicts with a built-in function:
select * from myCollection
db.getCollection("myCollection").find()
db.getCollection(var).find();

db.myCollection.find();

 



Syntax:

Use dbName     //  db=dbName

Syntax = >  db.collection.document    ex. db.createCollection(‘collectionName’);

database.collection.documentMethods( )    ex.   db.collectionName.insert({‘name’: ‘Alex’})

use DATABASE_NAME  
If the database already exists, it will return the existing database.

Let's take an example to demonstrate how a database is created in MongoDB. In the following example, we are going to create a database "demodb".

See this example

>use demodb  
Switched to db demodb


To check the currently selected database, use the command db:

>db  
demodb

To check the database list, use the command show dbs:

>show dbs  
local 0.078GB


Here, your created database "demodb" is not present in the list, insert at least one document into it to display database:

>db.myCollection.insert({"name":"test"})  
WriteResult({ "nInserted": 1})

>show dbs  
demodb 0.000GB
local 0.078GB



MongoDB Drop Database
The dropDatabase command is used to drop a database. It also deletes the associated data files. It operates on the current database.

Syntax:

db.dropDatabase()  
This syntax will delete the selected database. In case you have not selected any database, it will delete default "test" database.

To check the database list, use the command show dbs:

>show dbs  
local 0.078GB
If you want to delete the database "demodb", use the dropDatabase() command as follows:

>use demodb  
switched to the db demodb

>db.dropDatabase()  
{ "dropped": "demodb", "ok": 1}
Now check the list of databases:

>show dbs  
local 0.078GB



MongoDB Create Collection
In MongoDB, db.createCollection(name, options) is used to create a collection. But usually you don?t need to create a collection. MongoDB creates a collection automatically when you insert some documents. It will be explained later. First see how to create collection:

Syntax:

db.createCollection(name, options) 

  
Here,

Name: is a string type, specifies the name of the collection to be created.

Options: is a document type, specifies the memory size and indexing of the collection. It is an optional parameter.



Let's take an example to create a collection. In this example, we are going to create a collection named SSSIT.

>use test  
switched to db test

>db.createCollection("myNewCollection")  
{ "ok" : 1 }

To check the created collection, use the command "show collections".

>show collections  
myNewCollection


How does MongoDB create collection automatically
MongoDB creates collections automatically when you insert some documents. For example: Insert a document named seomount into a collection named SSSIT. The operation will create the collection if the collection does not currently exist.

>db.myNewCollection.insert({"name" : "seomount"})    
>show collections    
myNewCollection  


If you want to see the inserted document, use the find() command.

Syntax:

db.collection_name.find()



MongoDB Drop collection

In MongoDB, db.collection.drop() method is used to drop a collection from a database. It completely removes a collection from the database and does not leave any indexes associated with the dropped collections.

The db.collection.drop() method does not take any argument and produce an error when it is called with an argument. This method removes all the indexes associated with the dropped collection.

Syntax:

db.COLLECTION_NAME.drop()  

MongoDB Drop collection example

Let's take an example to drop collection in MongoDB.

First check the already existing collections in your database.

>use mydb  
Switched to db mydb 

> show collections  
SSSIT
system.indexes

Note: Here we have a collection named SSSIT in our database.

Now drop the collection with the name SSSIT:

>db.SSSIT.drop()  
True

Now check the collections in the database:

>show collections  
System.indexes

Now, there are no existing collections in your database.

Note: The drop command returns true if it successfully drops a collection. It returns false when there is no existing collection to drop.






MongoDB insert documents
In MongoDB, the db.collection.insert() method is used to add or insert new documents into a collection in your database.

Upsert

There are also two methods "db.collection.update()" method and "db.collection.save()" method used for the same purpose. These methods add new documents through an operation called upsert.

Upsert is an operation that performs either an update of existing document or an insert of new document if the document to modify does not exist.

Syntax

>db.COLLECTION_NAME.insert(document)  

Let's take an example to demonstrate how to insert a document into a collection. In this example we insert a document into a collection named demoCollection. This operation will automatically create a collection if the collection does not currently exist.

Example

db.myCollection.insert({
 data: [
   {
     id: 1001,
     name: "Samsung SCREEN 3",
     description: "5.5 Screen for Moto g",
     inStock: 10,
     colorName: "Blue",
     isOnline: false,
     country: "India",
     price: 12000,
     prodImg: "../../../assets/img/mob2.png",
     clsVar: true,
     qntt: 0,
   },
   {
     id: 1002,
     name: "screen 5",
     description: "5 Screen for Samsung",
     inStock: 8,
     colorName: "red",
     isOnline: true,
     country: "Germany",
     price: 12000,
     prodImg: "../../../assets/img/mob2.png",
     clsVar: true,
     qntt: 0,
   },
   {
     id: 1003,
     name: "Key Panel",
     description: "Key panel for Nokia",
     inStock: 12000,
     colorName: "green",
     isOnline: false,
     country: "",
     price: 12000,
     prodImg: "../../../assets/img/mob2.png",
     clsVar: true,
     qntt: 0,
   },
 ],
});
 



After the successful insertion of the document, the operation will return a WriteResult object with its status.

Output:

WriteResult({ "nInserted" : 1 })

Here the nInserted field specifies the number of documents inserted. If an error is occurred then the WriteResult will specify the error information.

Check the inserted documents
If the insertion is successful, you can view the inserted document by the following query.

>db.demoCollection.find()  

You will get the inserted document in return.

Output:

{ "_id" : ObjectId("56482d3e27e53d2dbc93cef8"), "course" : "java", "details" : 
{ "duration" : "6 months", "Trainer" : "Sonoo jaiswal" }, "Batch" : 
[ {"size" : "Small", "qty" : 15 }, { "size" : "Medium", "qty" : 25 } ],
 "category" : "Programming language" }


Note: Here, the ObjectId value is generated by MongoDB itself. It may differ from the one shown.

MongoDB insert multiple documents
If you want to insert multiple documents in a collection, you have to pass an array of documents to the db.collection.insert() method.

Create an array of documents
Define a variable named Allcourses that hold an array of documents to insert.
